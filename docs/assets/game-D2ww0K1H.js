import{_ as E,u as B,r as p,a as L,o as S,b as g,c as f,d as c,F as v,e as M,f as u,g as C,t as m}from"./index-Dgjypedz.js";const k=7,D=5;let s=[],z=["FF4545","B349ED","5570EE","79F743","FFF845","FF69B4"];var $;let y=5,h=0;function G(e){$=e;for(let o=0;o<k;o++){s[o]=[];for(let a=0;a<k;a++){const l=R();l.dataset.row=o,l.dataset.col=a,$.append(l),s[o][a]=l}}}function N(){return y--,console.log(y),y}function R(){const e=document.createElement("div");e.style.width="61px",e.style.height="61px",e.style.borderRadius="5px",e.style.border="1px solid #fff",e.classList.add("tile");const o=Math.floor(Math.random()*D)+1;return e.style.backgroundColor=`#${z[o]}`,e.dataset.type=o,e.innerText=o,e.addEventListener("click",a=>{V(a)}),e}let r=null;function V(e){const o=e.target;r?(console.log(`второй клик. выбранные - первый: ${r.dataset.type}
 второй - ${o.dataset.type}`,r,o),q(r,o),r.classList.remove("selected"),I(o),r=null,N()):(r=o,console.log(`первый клик. выбранный - ${e}`,r,r==e.target),r.classList.add("selected"))}function q(e,o){console.log(e,o);const a=e.dataset.type;e.dataset.type=o.dataset.type,o.dataset.type=a,console.log(e,o)}function A(e){let o=[],a=Number(e.dataset.col),l=0,t=a;for(console.log(`strike = ${t};  sizeRow = ${s[e.dataset.row].length-1}`),console.log(`${t!=s[e.dataset.row].length-1}`),h+=l;t!=s[e.dataset.row].length-1&&(console.log(a),console.log(`${s[e.dataset.row][a]}; col = ${a}`),s[e.dataset.row][t].dataset.type===s[e.dataset.row][t+1].dataset.type);)o.push(s[e.dataset.row][t]),console.log(o),l++,t++;for(t=a;t!==0&&s[e.dataset.row][t].dataset.type===s[e.dataset.row][t-1].dataset.type;)l--,t--,o.push(s[e.dataset.row][t]);t=0}function H(e){let o=[],a=Number(e.dataset.col),l=0,t=row;for(console.log(`strike = ${t};  sizeRow = ${s[e.dataset.row].length-1}`),console.log(`${t!=s[e.dataset.row].length-1}`),h+=l;t!=s[e.dataset.row].length-1&&(console.log(a),console.log(`${s[e.dataset.col][a]}; row = ${row}`),s[t][e.dataset.col].dataset.type===s[t+1][e.dataset.col].dataset.type);)o.push(s[t][e.dataset.col]),console.log(o),l++,t++;for(t=row;t!==0&&s[t][e.dataset.col].dataset.type===s[t-1][e.dataset.col].dataset.type;)l--,t--,o.push(s[t][e.dataset.col]);t=0}function I(e){A(e),H(e)}const O={class:"main__parametrs"},j={class:"but parametr__but boosts-but parametr__boosts"},J={name:"",id:""},K=["value"],P={key:0,class:"boosts__full"},Q={class:"parametr__score score-text"},U={class:"parametr__time time-text"},W={class:"field"},X={class:"field__motion-block motion-content"},Y={class:"started_tablo active"},Z={__name:"game",setup(e){let o=B(),a=p(!0),l=[{id:1,image:"",title:"boomb",symbol:"B"},{id:2,image:"",title:"clearCrest",symbol:"+"}],t=p(null),b=p(y),n=L({game_id:0,score:p(h),time:0,date:new Date().toDateString()});S(()=>{});function x(d){G(t.value),d.target.parentElement.classList.remove("active"),w(b)}function w(d,_,i){if(d.value>=0)setTimeout(function(){w(d)},1e3);else{F();return}}function F(){o.addGameRecord(n),console.log(o.games),Array.from(t.value.querySelectorAll("td")).forEach((d,_)=>{d.innerHTML=""}),document.querySelector(".started_tablo").classList.add("active"),T(),n.time=0,n.score=0,n.date=new Date().toISOString()}async function T(){console.log(n)}return(d,_)=>(g(),f(v,null,[c("div",O,[c("div",j,[c("select",J,[(g(!0),f(v,null,M(u(l),i=>(g(),f("option",{key:i.id,value:i.symbol},m(i.symbol),9,K))),128))]),u(a)?(g(),f("div",P)):C("",!0)]),c("div",Q,m(u(n).score),1),c("div",U,m((u(n).time/60).toFixed(0))+":"+m(u(n).time%60),1)]),c("div",W,[c("div",X,m(u(b)),1),c("div",Y,[c("div",{class:"main__but but play",onClick:_[0]||(_[0]=i=>x(i))},"play")]),c("div",{class:"table",ref_key:"table",ref:t},null,512)])],64))}},te=E(Z,[["__scopeId","data-v-d1e47c49"]]);export{te as default};
