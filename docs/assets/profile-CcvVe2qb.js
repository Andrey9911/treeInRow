import{_ as k,u as w,a as u,h as z,i as C,j as D,o as S,r as p,k as v,l as x,b as c,c as l,d as t,m as A,f as a,T as E,n as d,t as n,p as N,F as m,e as R,g as B}from"./index-Dgjypedz.js";const L={class:"connected__block"},Q={class:"statistic"},V={class:"stat__c plashka balance-block"},F={style:{"font-size":"1.3em","font-weight":"600"}},I={class:"stat__c plashka best-gameLen"},W={class:"Tasks"},j={class:"t Tasks_content"},M=["data-index"],O={key:0,class:"plaska_act"},U={class:"task__title"},G=["onClick"],X={__name:"profile",setup($){const g=window.Telegram.WebApp;let f=w(),i=u({balans:0,picture_len:f.games.length,user_id:"amdrey"});console.log(window.Telegram);let h=u(z.tasks);const{sendTransaction:q,addMessage:y,sending:H,error:J}=C();D().tonConnectUI.value,S(()=>{g.ready()});let T=p(v().value!=""),r=p(v().value);x();async function b(o){if(console.log(o),r.value==""){_("error","you not connected"),console.log("error");return}try{switch(o.type_task){case"connect":r.value!=""&&(o.isDone=!0,_("succes","Поздравляем"),i.balans+=o.reward);break;case"call_contract":y("EQD4eA1SdQOivBbTczzElFmfiKu4SXNL4S29TReQwzzr_70k","100000"),await fetch("https://toncenter.com/api/v2/getTransactions?address=0QDplguoDgJLRiLAGwlyn9EeY69M7reUVRG2t1gFQAdXIREl&limit=10&to_lt=0&archival=true").then(s=>{console.log(s.json())}),console.log();break}}catch{console.log("z")}}function _(o,s){let e=document.createElement("div");e.textContent=s,e.className="message-block "+o,document.querySelector("#app").append(e),setTimeout(()=>{e.remove()},1e3)}return(o,s)=>(c(),l(m,null,[t("div",L,[A(a(E)),t("div",{class:d(["status__wallet",{active:a(T)}])},n(a(r)!=""?"you connected":"no active"),3)]),s[2]||(s[2]=t("div",{class:"profile-tg"},null,-1)),t("div",Q,[t("div",V,[t("span",F,n(a(i).balans),1),s[0]||(s[0]=N(" $TROW"))]),t("div",I,"Рисунков: "+n(a(i).picture_len),1)]),t("div",W,[s[1]||(s[1]=t("div",{style:{"font-size":"1.5em","font-weight":"600"}},"Задания",-1)),t("div",j,[(c(!0),l(m,null,R(a(h),e=>(c(),l("div",{"data-index":e.id,class:d(["task plashka",{active:!e.isDone}]),key:e.id},[e.isDone?(c(),l("div",O)):B("",!0),t("div",U,n(e.title),1),t("div",{class:d(["task__type-task but",{notActive:e.isDone}]),onClick:()=>b(e)},n(e.reward)+" $TROW",11,G)],10,M))),128))])])],64))}},Y=k(X,[["__scopeId","data-v-c75bebfc"]]);export{Y as default};
